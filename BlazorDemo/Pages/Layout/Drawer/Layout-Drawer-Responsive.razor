@inject NavigationManager NavigationManager
<link rel="preload" href="@GetDemoUrl()" as="document">

<DemoPageSectionComponent Id="Layout-Drawer-Responsive">
    <DemoMobileContent>
        @if(afterFirstRender) {
            <iframe @onload="() => { loadIndicatorVisible = false; }"
                    class="w-100 h-100 border-0"
                    src="@GetDemoUrl()"
                    title="Responsive Drawer">
            </iframe>
        }
        @if(loadIndicatorVisible) {
            <DemoLoadIndicator></DemoLoadIndicator>
        }
    </DemoMobileContent>
</DemoPageSectionComponent>

@code {
    bool loadIndicatorVisible = true;
    bool afterFirstRender;
    protected override void OnAfterRender(bool firstRender) {
        base.OnAfterRender(firstRender);
        if (firstRender) {
            afterFirstRender = true;
            StateHasChanged();
        }
    }
    string GetDemoUrl() {
        return NavigationManager.ToAbsoluteUri("Layout_Drawer_ResponsiveIFrameContent").AbsoluteUri;
    }
}
